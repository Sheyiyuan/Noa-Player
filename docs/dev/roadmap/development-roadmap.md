# Noa Studio — 详细开发路线图（Development Roadmap）
版本：v0.2-roadmap  
状态：Draft  
更新日期：2026-02-18

---

## 1. 目标与范围
本路线图用于把新版 PRD（本地优先三栏工作台）转化为可执行排期，优先交付 MVP：
- 三栏布局
- 视频播放 + 时间戳
- 一键截图 + 自动归档 + 自动插入笔记
- 极简 Markdown 编辑器 + 自动保存
- 资源库基础管理
- 工程文件夹模式
- OCR 基础功能

本阶段不纳入 MVP：GIF 录制、AB 复读增强、多屏高级模式、Git 版本控制辅助、AI 增强、插件系统。

---

## 2. 交付原则（DoD）
- 功能：每阶段都有可演示的完整用户路径
- 质量：关键路径有自动化回归（单元 + 集成最小集合）
- 文档：PRD/Design/Roadmap 保持同步
- 可回归：`lint`、`test`、`build` 可稳定执行
- 范围纪律：不跨阶段提前塞入高成本特性

---

## 3. 里程碑总览

| 阶段    | 周期（建议） | 目标               | 关键输出                                   |
| ------- | ------------ | ------------------ | ------------------------------------------ |
| Phase 0 | Week 1       | 三栏骨架与工程模式 | 固定三栏 UI、工程目录识别、基础状态模型    |
| Phase 1 | Week 2       | 播放与时间戳       | 本地/直链播放、时间戳显示与插入、笔记回跳  |
| Phase 2 | Week 3       | 截图一体化         | 一键截图、自动归档、资源入库、自动插入笔记 |
| Phase 3 | Week 4       | 编辑器与资源库 MVP | 自动保存、拖拽插入、预览/删除/排序         |
| Phase 4 | Week 5       | OCR 基础能力       | OCR 识别、结果入库、编辑器插入与整理       |
| Phase 5 | Week 6       | 稳定性与发布准备   | 回归测试、性能基线、打包验证               |

---

## 4. 分阶段任务拆解

## Phase 0：三栏骨架与工程模式（Week 1）
### 目标
建立主窗口固定三栏和“一个工程=一个文件夹”的基础能力。

### 任务
- UI：落地左/中/右三栏固定布局（可调整宽度但不改变区块职责）
- 状态：建立播放、资源、笔记最小 store
- 工程：识别并创建 `note.md + assets/` 结构
- IPC：补齐工程读写与资源读目录接口

### 验收
- 可创建/打开工程并看到三栏完整结构
- 工程目录可在系统文件管理器直接访问

---

## Phase 1：播放与时间戳（Week 2）
### 目标
打通“打开视频 → 播放控制 → 时间戳插入/回跳”。

### 任务
- 播放：支持本地文件与直链、倍速、音量、进度跳转、全屏
- 时间戳：显示当前时间、插入 `[hh:mm:ss]`
- 回跳：点击笔记内时间戳触发 seek

### 验收
- 视频可稳定播放与控制
- 时间戳插入与点击回跳可用

---

## Phase 2：截图一体化（Week 3）
### 目标
打通“一键截图 → 自动归档 → 自动插入笔记”主链路。

### 任务
- 从当前视频帧生成图片
- 自动保存到工程 `assets/`
- 资源库自动新增条目（含时间戳）
- 笔记自动插入图片引用与时间戳

### 验收
- 一键截图后，资源库与笔记同时可见结果
- 截图失败有明确反馈，不破坏播放状态

---

## Phase 3：编辑器与资源库 MVP（Week 4）
### 目标
补齐右栏与中栏的最小可用交互。

### 任务
- 编辑器：基础 Markdown 语法、自动保存、崩溃恢复
- 资源库：预览、大图查看、删除、按时间戳/类型排序
- 拖拽：资源拖拽到编辑器插入引用

### 验收
- 关闭重开后笔记内容无丢失
- 资源管理操作稳定且可回写到文件系统

---

## Phase 4：OCR 基础（Week 5）
### 目标
让截图内容变成可编辑、可复用文本。

### 任务
- 接入 OCR（基础语言包）
- OCR 结果与资源绑定并可编辑
- OCR 结果一键插入笔记（含必要格式整理）

### 验收
- 任意截图可触发 OCR 并得到可读文本
- OCR 失败可重试，且不影响其他功能

---

## Phase 5：稳定性与发布准备（Week 6）
### 目标
以 MVP 可发布为标准完成收口。

### 任务
- 回归：播放、时间戳、截图、资源库、编辑器、OCR
- 性能：记录冷启动、截图耗时、OCR 耗时基线
- 发布：完成 Linux 首发打包与安装验证
- 文档：更新安装与使用说明

### 验收
- 完成端到端演示与安装包自测
- 已知问题清单完整可追踪

---

## 5. 后续迭代池（非 MVP）
### Iteration A（建议 Week 7-8）
- GIF 录制（`ffmpeg.wasm`）
- AB 复读完整交互（标记管理、笔记激活）
- 多屏模式增强（独立窗口、悬浮置顶、点击穿透）

### Iteration B（建议 Week 9+）
- AI 增强：总结、翻译、大纲生成
- Git 版本控制辅助
- 全局搜索（笔记 + 资源）
- 多笔记 Tab、ZIP 导出、自定义快捷键、主题切换

### Iteration C（长期）
- 插件系统与社区扩展生态

---

## 6. 风险与应对
- `ffmpeg.wasm` 性能波动：GIF 不纳入 MVP，先保证截图主链路稳定。
- 多屏行为平台差异：先实现最小可靠模式，再做高级窗口策略。
- OCR 质量与速度不稳定：提供重试与可编辑结果，不阻塞笔记流程。
- 需求扩张：每周评审时按 MVP 清单做范围闸门。

---

## 7. 文档联动
- 需求文档：`docs/dev/requirements/prd.md`
- 设计文档：`docs/dev/design/design.md`
- 本路线图：`docs/dev/roadmap/development-roadmap.md`
